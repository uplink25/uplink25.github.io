<!DOCTYPE HTML>
<html><head><meta charset="utf-8"></head><body><script>

	function CoffeeMachine(power) {
	  this.waterAmount = 0;

	  var WATER_HEAT_CAPACITY = 4200;
	  var timerId;

	  var self = this;

	  function getBoilTime() {
	    return self.waterAmount * WATER_HEAT_CAPACITY * 80 / power;
	  }

	  function onReady() {
	    console.log( 'Кофе готово!' );
	  }

	  // function onStop() {
	  // 	clearTimeout(timerId);
	  // }

	  this.run = function() {
	    timerId = setTimeout(onReady, getBoilTime());
	  };

	  this.stop = function() {
	  	// var timeToStop = arguments[0] == undefined ? 0 : arguments[0];
	  	clearTimeout(timerId);
	  	// setTimeout(onStop, timeToStop);
	  }

	};

	console.log("Start");
	var coffeeMachine = new CoffeeMachine(50000);
	coffeeMachine.waterAmount = 200;

	coffeeMachine.run();
	coffeeMachine.stop(); // кофе приготовлен не будет

</script></body></html>